////
/// @group o-loading
/// @link http://registry.origami.ft.com/components/o-loading
////

/// Output the keyframe definition for the loading indicator
///
/// @private
@mixin _oLoadingAnimation {
	@keyframes o-loading-spinner {
		0% {
			transform: rotate(0deg);
		}
		100% {
			transform: rotate(360deg);
		}
	}
}

/// Base styles for a loading indicator
///
/// @param {Number} $size
@mixin oLoading($size: 30px) {

	// the keyframes must be defined _before_ first use
	@if not $o-loading-animation {
		@at-root {
			@include _oLoadingAnimation();
		}

		$o-loading-animation: true !global;
	}

	// HACK: creates a new selector to output the rules _after_ keyframes
	& {
		display: inline-block;
		width: $size;
		height: $size;
		border-radius: 50%;
		animation: o-loading-spinner 1s infinite linear;
	}
}

/// Color variation for a loading indicator
///
/// @param {Color} $color
@mixin oLoadingColor($color) {
	border: 4px solid rgba($color, 0.25);
	border-top-color: $color;
}
